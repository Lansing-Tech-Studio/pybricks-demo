# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":133,"y":21,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"^l)pZ_-A$[,Fyw0n?GOP","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"lQaOu(L+V[*{TP=mZ@,["}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"iA1#b-hRvHAae3ITkoZd","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"Icf[2D3_ABE}0.fEl_o1","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"YrRFs=JLAN%{-Hz,ktV?","fields":{"VAR":{"id":"BP.(_;u60MPWJH)|zMrU"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Z2ut3;r:V+^%@j;+=7Ib","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"Z*]n=2.04/g(737m{+W`","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"`d6ux[0t(`B~*1g}2rhk","fields":{"VAR":{"id":"HJd?pCDMKf74R7)BIo0v"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"%FZTO`PT7(z(),!i{dtz","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"jV_~v^5:S10~6~#f#~:F","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"N%G{$+q6lM!b294L@/h`","fields":{"VAR":{"id":"1[!yfJ`g8TGV]po.K]+k"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"LDUkvMz{dQT2V^XLoB=%","fields":{"VAR":{"id":"BP.(_;u60MPWJH)|zMrU","name":"left wheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"vh2y|);X.G4y{BzP!=;|","fields":{"VAR":{"id":"HJd?pCDMKf74R7)BIo0v","name":"right wheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"S{uCYYt.N_n`AoU)K^$6","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"20lDE6B{od;yvu7H%lD!","fields":{"VALUE0":114}}}},"next":{"block":{"type":"variables_set_motor","id":"V=Dg+p?AWa9_;9s=}pOz","fields":{"VAR":{"id":"U04[%8bXE-`Wv%FIbLsK"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"F;8tBQ9a2~6[W4t-T?vi","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"?+m^%8wmEkLKUxtc}${.","fields":{"SELECTION":"Direction.CLOCKWISE"}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":143,"y":441,"deletable":false,"next":{"block":{"type":"blockPrint","id":"j,,T}?rBkaW$1v?olp4p","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Hello, Pybricks!"}}}},"next":{"block":{"type":"blockComment","id":"H7n]n2J0al12APH+NyAc","fields":{"FIELDNAME":"Do multiple things at once"},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"B^K2WA6x^eY0#vTdv_v4","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"~{]3_4SWLnV?Mh|S2;%r","fields":{"VAR":{"id":"1[!yfJ`g8TGV]po.K]+k","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockMultiTask","id":"/R]DkL]YD1!k)))-+z3x","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockFlowRepeat","id":"-O{|u?%h$af/T)of]p{N","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"*b29yQQmx0ElV?Y)Og[!","fields":{"NUM":4}}},"DO":{"block":{"type":"blockComment","id":"Nzqhux:OR4*)0VJU3E?V","fields":{"FIELDNAME":"TODO: See if in Python we can remove all the awaits here"},"next":{"block":{"type":"blockDriveBaseDrive2","id":"Wz^*XLbo?~//O].u*6x{","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"z-863Xb/wXlF`NPmiwu.","fields":{"VAR":{"id":"1[!yfJ`g8TGV]po.K]+k","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"qEdv[(jZaAL|*#KqZ_;5","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"z(/a5DR-h6vJ`{V?!.X:","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"@qz1O@|Chy5zAZUsHY$J","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"W.fHJ{CN?_=U8Xc]znZG","fields":{"VALUE0":100}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockFlowRepeat","id":"~zsm7*^-4ht`66*FRN9=","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"6I0?/,NQJ}rfBVwsY2,}","fields":{"NUM":10}}},"DO":{"block":{"type":"blockMotorRun","id":"/${dV6$VcFQ0)HxRqB,a","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"xthf~ooLuOva$b:v[=W-","fields":{"VAR":{"id":"U04[%8bXE-`Wv%FIbLsK","name":"attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"V=RlY|?5=6|8~_%AF(Z^","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"Z[x=^)_xc7Iw|DU45W-*","fields":{"VALUE0":180}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"+7r3U6qE(ahXE}wuK-/r","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"l]r9)l*]mUJ%3WQkCae,","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"jx_,NLKzDHW`S!+0%(iN","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockMotorRun","id":"_):SDTPYu!:S5U_Q$rv%","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"`e#Nj[46ObQTSI7wT!Ht","fields":{"VAR":{"id":"U04[%8bXE-`Wv%FIbLsK","name":"attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"c4c1ji{C8ER*4Xnos1{Z","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"xCgW+FjTSo$A?bwure44","fields":{"VALUE0":-180}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"7FY,mqm)/;v@MVKeE_!]","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"Q)k1v7tL@a2Dwfo6Qbsd","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"vEi$Ikl[Y7Tki1fks`o:","fields":{"VALUE0":100}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockImuConfigure","id":"B9$,J3UtC,)j7wFX(7iz","x":576,"y":702,"enabled":false,"extraState":{"optionLevel":1},"fields":{"METHOD":"IMU_HEADING_CORRECTION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"_nc|s@]X8d7}w+jzRDx,","fields":{"VAR":{"id":"lQaOu(L+V[*{TP=mZ@,[","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"^T?xw]%~2*8m;62zHaDt","fields":{"VALUE0":360}}}}}]},"variables":[{"name":"red","id":"hcq1:mXF^)o%FJn.EVW{","type":"ColorDef"},{"name":"orange","id":"2[k`T2C]i39a+|O4Ijz2","type":"ColorDef"},{"name":"yellow","id":"v]]h$m^v}mfQJoY!vW{;","type":"ColorDef"},{"name":"green","id":"V)*hXXA=x#)}aA}n*lOR","type":"ColorDef"},{"name":"cyan","id":"3R_e6?)DiXQ*H%{D~@t,","type":"ColorDef"},{"name":"blue","id":"Hq`QhGx./)SrlZ]P8V[U","type":"ColorDef"},{"name":"violet","id":"NPXuu,5/7ptc#*[/28ej","type":"ColorDef"},{"name":"magenta","id":"?J:QwwBnMD(653/3kb,[","type":"ColorDef"},{"name":"white","id":"BNs;9OW4Y6-gY0~cEO].","type":"ColorDef"},{"name":"none","id":"auqByB749`IEPy8hBrj!","type":"ColorDef"},{"name":"prime hub","id":"lQaOu(L+V[*{TP=mZ@,[","type":"PrimeHub"},{"name":"drive base","id":"1[!yfJ`g8TGV]po.K]+k","type":"DriveBase"},{"name":"left wheel","id":"BP.(_;u60MPWJH)|zMrU","type":"Motor"},{"name":"right wheel","id":"HJd?pCDMKf74R7)BIo0v","type":"Motor"},{"name":"attachment","id":"U04[%8bXE-`Wv%FIbLsK","type":"Motor"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
left_wheel = Motor(Port.F, Direction.COUNTERCLOCKWISE)
right_wheel = Motor(Port.B, Direction.CLOCKWISE)
drive_base = DriveBase(left_wheel, right_wheel, 56, 114)
attachment = Motor(Port.D, Direction.CLOCKWISE)

async def subtask():
    for count in range(4):
        await wait(0)
        # TODO: See if in Python we can remove all the awaits here
        await drive_base.turn(90)
        await wait(100)

async def subtask2():
    for count3 in range(10):
        await wait(0)
        await attachment.run_angle(500, 180)
        await wait(100)
        await attachment.run_angle(500, -180)
        await wait(100)

async def main():
    print('Hello, Pybricks!')
    # Do multiple things at once
    drive_base.use_gyro(True)
    await multitask(
        subtask(),
        subtask2(),
    )


run_task(main())